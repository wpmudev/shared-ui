<meta property="og:title" content="Shared UI" />
<meta property="og:description" content="Shared UI by WPMU DEV" />

<style>
	/* Sidebar Header UI */
	.sidebar-header button {
		border-color: hsl(0, 0%, 100%);
		box-shadow: inset 0 0 0 1px hsl(0, 0%, 100%);
		-moz-box-shadow: inset 0 0 0 1px hsl(0, 0%, 100%);
		-webkit-box-shadow: inset 0 0 0 1px hsl(0, 0%, 100%);
		color: hsl(0, 0%, 100%);
	}

	.sidebar-header button:hover {
		background: hsl(0, 0%, 100%);
		box-shadow: inset 0 0 0 1px hsl(0, 0%, 100%);
		-moz-box-shadow: inset 0 0 0 1px hsl(0, 0%, 100%);
		-webkit-box-shadow: inset 0 0 0 1px hsl(0, 0%, 100%);
	}

	.sidebar-header button:hover,
	.sidebar-header button:active,
	.sidebar-header button:focus {
		color: hsl(214, 84%, 56%);
	}

	/* Search Field UI */
	.search-field svg {
		width: 16px;
		height: 16px;
		top: 10px;
		color: hsl(0, 0%, 100%);
	}

	.search-field code {
		top: 10px;
		color: hsl(0, 0%, 100%);
	}

	.search-field[aria-expanded='true'] svg,
	.search-field[aria-expanded='true'] code {
		color: hsl(214, 84%, 73%);
	}

	#storybook-explorer-searchfield {
		height: auto;
		padding: 8px 36px;
		border: 0;
		border-radius: 4px;
		-moz-border-radius: 4px;
		-webkit-border-radius: 4px;
		background: rgba(255, 255, 255, 0.2);
		color: hsl(0, 0%, 100%);
		font-size: 14px;
		line-height: 20px;
	}

	#storybook-explorer-searchfield::placeholder {
		color: hsl(0, 0%, 100%);
	}

	.search-result-item--label strong + span {
		color: hsl(213, 83%, 91%);
	}

	/* Explorer Menu UI */
	#storybook-explorer-menu .sidebar-subheading {
		color: hsl(214, 84%, 73%);
		font-size: 14px;
		line-height: 22px;
		letter-spacing: 0;
		font-weight: 500;
		font-variant: small-caps;
		text-transform: lowercase;
	}

	#storybook-explorer-menu .sidebar-subheading .sidebar-subheading-action {
		display: none;
	}

	#storybook-explorer-menu .sidebar-item {
		color: hsl(0, 0%, 100%);
		font-size: 14px;
		line-height: 22px;
		letter-spacing: 0;
		font-weight: 500;
	}

	#storybook-explorer-menu .sidebar-item > span {
		margin: 0;
		margin-right: 20px;
		border-width: 0;
		border-color: hsl(214, 84%, 73%);
	}

	#storybook-explorer-menu .sidebar-item[data-nodetype='group'],
	#storybook-explorer-menu .sidebar-item[data-nodetype='component'] {
		position: relative;
		padding-right: 30px;
	}

	#storybook-explorer-menu .sidebar-item[data-nodetype='group']:after,
	#storybook-explorer-menu .sidebar-item[data-nodetype='component']:after {
		content: ' ';
		position: absolute;
		top: 10px;
		right: 20px;
		border: 5px solid #82b3f4;
		border-right-width: 0;
		border-top-color: transparent;
		border-bottom-color: transparent;
	}

	#storybook-explorer-menu .sidebar-item:hover,
	#storybook-explorer-menu .sidebar-item[aria-expanded='true'] {
		color: hsl(214, 84%, 56%);
	}

	#storybook-explorer-menu
		.sidebar-item:not([data-selected='true'])[data-nodetype='group'],
	#storybook-explorer-menu
		.sidebar-item:not([data-selected='true'])[data-nodetype='component'] {
		background: transparent;
	}

	#storybook-explorer-menu
		.sidebar-item[data-nodetype='group'][aria-expanded='true']:after,
	#storybook-explorer-menu
		.sidebar-item[data-nodetype='component'][aria-expanded='true']:after {
		transform: rotate(90deg);
		-ms-transform: rotate(90deg);
		-moz-transform: rotate(90deg);
	}

	#storybook-explorer-menu .sidebar-item:focus {
		background: transparent;
	}

	#storybook-explorer-menu .sidebar-item[data-selected='true'] {
		background: transparent;
		color: hsl(214, 84%, 56%);
	}
</style>

<script>
	// Workaround to increase the left panel width just enough to show even the longer story names
	// based on https://github.com/storybookjs/storybook/issues/9682#issuecomment-983356523
	const DEFAULT_MINIMUM_LEFT_PANEL_WIDTH = 260; // Original default is 230
	let storybookConfig = JSON.parse(localStorage.getItem('storybook-layout'));

	// We only resize the left panel if it is set to a value lower than DEFAULT_MINIMUM_LEFT_PANEL_WIDTH
	if (
		typeof storybookConfig === 'object' &&
		storybookConfig !== null &&
		storybookConfig.resizerNav.x < DEFAULT_MINIMUM_LEFT_PANEL_WIDTH
	) {
		storybookConfig.resizerNav.x = DEFAULT_MINIMUM_LEFT_PANEL_WIDTH;
		localStorage.setItem(
			'storybook-layout',
			JSON.stringify(storybookConfig)
		);
		document.location.reload();
	} else if (storybookConfig === null) {
		storybookConfig = {
			resizerNav: {
				x: DEFAULT_MINIMUM_LEFT_PANEL_WIDTH,
				y: 0,
			},
		};
		localStorage.setItem(
			'storybook-layout',
			JSON.stringify(storybookConfig)
		);
		document.location.reload();
	}
</script>
